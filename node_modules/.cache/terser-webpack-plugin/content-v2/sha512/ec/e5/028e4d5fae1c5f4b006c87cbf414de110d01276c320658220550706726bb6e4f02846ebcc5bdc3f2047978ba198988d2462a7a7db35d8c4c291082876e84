{"code":"(this.webpackJsonpkorona=this.webpackJsonpkorona||[]).push([[0],{187:function(t,n,e){\"use strict\";e.r(n);var r=e(5),a=e.n(r),c=e(9),s=e(189),o=e(238),u=e(239),i=e(401);function f(){return(f=Object(c.a)(a.a.mark((function t(){var n,e,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.downloadAndParse();case 2:return n=t.sent,setInterval(Object(c.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.downloadAndParse();case 2:n=t.sent;case 3:case\"end\":return t.stop()}}),t)}))),144e5),t.next=6,o.downloadAndParse();case 6:e=t.sent,setInterval(Object(c.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.downloadAndParse();case 2:e=t.sent;case 3:case\"end\":return t.stop()}}),t)}))),144e5),(r=u()).use(i()),r.get(\"/data\",(function(t,e){e.json(n)})),r.get(\"/time-series\",(function(t,n){n.json(e)})),r.listen(8e3,(function(){console.log(\"server is running\")})),r.get(\"/\",(function(t,n){n.send(\"Hello World!\")}));case 14:case\"end\":return t.stop()}}),t)})))).apply(this,arguments)}!function(){f.apply(this,arguments)}()},189:function(t,n,e){\"use strict\";e.r(n),function(t){e(185);var n=e(5),r=e.n(n),a=e(9),c=e(90).default,s=e(99),o=((0,e(33).promisify)(s),\"https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_daily_reports/_DATE_.csv\");function u(){return i.apply(this,arguments)}function i(){return(i=Object(a.a)(r.a.mark((function t(){var n,e,a,s,u,i,f,p;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new Date).setDate(n.getDate()-1),e=n.getMonth()+1,a=e<10?\"0\".concat(e):e,s=n.getDate(),u=s<10?\"0\".concat(s):s,i=\"\".concat(a,\"-\").concat(u,\"-\").concat(n.getFullYear()),f=o.replace(\"_DATE_\",i),t.next=10,c.get(f);case 10:return p=t.sent,t.abrupt(\"return\",p.data);case 12:case\"end\":return t.stop()}}),t)})))).apply(this,arguments)}t.exports.download=u,t.exports.parse=u,t.exports.downloadAndParse=u}.call(this,e(89)(t))},227:function(t,n){},229:function(t,n){},238:function(t,n,e){\"use strict\";e.r(n),function(t){var n=e(184),r=e(186),a=e(5),c=e.n(a),s=e(9),o=e(90).default,u=e(99),i=(0,e(33).promisify)(u),f=[\"confirmed\",\"deaths\",\"recovered\"],p=\"https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19__TYPE__global.csv\";function d(t){return l.apply(this,arguments)}function l(){return(l=Object(s.a)(c.a.mark((function t(n){var e,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=p.replace(\"_TYPE_\",n),t.next=3,o.get(e);case 3:return r=t.sent,t.abrupt(\"return\",r.data);case 5:case\"end\":return t.stop()}}),t)})))).apply(this,arguments)}function v(t){return h.apply(this,arguments)}function h(){return(h=Object(s.a)(c.a.mark((function t(n){var e,a,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i(n,{from_line:2});case 2:return e=t.sent,a=e.map((function(t){var n=Object(r.a)(t),e=n[0],a=n[1],c=n[2],s=n[3],o=n.slice(4);return{id:\"\".concat(e,\"-\").concat(a),state:e,country:a,latitude:parseInt(c),longitude:parseInt(s),values:o.map((function(t){return parseInt(t)}))}})),s=a.reduce((function(t,n){return t[n.id]=n,t}),{}),t.abrupt(\"return\",s);case 6:case\"end\":return t.stop()}}),t)})))).apply(this,arguments)}function w(){return(w=Object(s.a)(c.a.mark((function t(){var e,r,a,s,o,u;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e={},r=Object(n.a)(f),t.prev=2,r.s();case 4:if((a=r.n()).done){t.next=14;break}return s=a.value,t.next=8,d(s);case 8:return o=t.sent,t.next=11,v(o);case 11:e[s]=t.sent;case 12:t.next=4;break;case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(2),r.e(t.t0);case 19:return t.prev=19,r.f(),t.finish(19);case 22:return u=Object.keys(e.confirmed).map((function(t){var n=e.confirmed[t]||{values:[]};e.deaths[t],e.recovered[t];return{id:t,stae:n.state,country:n.country,latitude:n.latitude,longitude:n.longitude,confirmed:n.values,deaths:n.values,recovered:n.values}})),t.abrupt(\"return\",u);case 24:case\"end\":return t.stop()}}),t,null,[[2,16,19,22]])})))).apply(this,arguments)}t.exports={download:d,parse:v,downloadAndParse:function(){return w.apply(this,arguments)}}}.call(this,e(89)(t))},263:function(t,n){},264:function(t,n){},292:function(t,n){},295:function(t,n){function e(t){var n=new Error(\"Cannot find module '\"+t+\"'\");throw n.code=\"MODULE_NOT_FOUND\",n}e.keys=function(){return[]},e.resolve=e,t.exports=e,e.id=295},297:function(t,n){},299:function(t,n){},306:function(t,n){},308:function(t,n){},337:function(t,n){},339:function(t,n){},340:function(t,n){},346:function(t,n){},348:function(t,n){},367:function(t,n){},379:function(t,n){},382:function(t,n){}},[[187,1,2]]]);","name":"static/js/main.386feaa4.chunk.js","map":{"version":3,"sources":["static/js/main.386feaa4.chunk.js"],"names":["this","push","187","module","__webpack_exports__","__webpack_require__","r","D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__","D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","n","D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","data","timeSeries","express","cors","_run","Object","a","mark","_callee3","locations","locationsTimeSeries","app","wrap","_context3","prev","next","downloadAndParse","sent","setInterval","_callee","_context","stop","_callee2","_context2","use","get","req","res","json","listen","console","log","send","apply","arguments","run","189","D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__","D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","axios","default","parseCsv","URL","promisify","download","_download","date","month","monthPadded","day","dayPadded","yesterday","yesterdayUrl","Date","setDate","getDate","getMonth","concat","getFullYear","replace","abrupt","exports","parse","call","227","229","238","D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_0__","D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toArray__WEBPACK_IMPORTED_MODULE_1__","D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__","D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default","D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__","parseCsvAsync","TYPES","_x","type","url","_x2","_parse","records","locationsById","from_line","map","record","_record","state","country","latitude","longitude","values","slice","id","parseInt","value","reduce","acc","val","_downloadAndParse","locationsByType","_iterator","_step","s","done","t0","e","f","finish","keys","confirmed","deaths","recovered","stae","263","264","292","295","webpackEmptyContext","Error","code","resolve","297","299","306","308","337","339","340","346","348","367","379","382"],"mappings":"CAACA,KAAyB,mBAAIA,KAAyB,oBAAK,IAAIC,KAAK,CAAC,CAAC,GAAG,CAEpEC,IACA,SAAUC,EAAQC,EAAqBC,GAE7C,aACAA,EAAoBC,EAAEF,GACD,IAAIG,EAAkIF,EAAoB,GACtJG,EAAuJH,EAAoBI,EAAEF,GAC7KG,EAAmJL,EAAoB,GAC5LM,EAAKN,EAAoB,KAASO,EAAWP,EAAoB,KAASQ,EAAQR,EAAoB,KAASS,EAAKT,EAAoB,KAAuD,SAASU,IAAqnF,OAA9mFA,EAAKC,OAAON,EAAkK,EAAzKM,CAAyLR,EAAwIS,EAAEC,MAAK,SAASC,IAAW,IAAIC,EAAUC,EAAoBC,EAAI,OAAOd,EAAwIS,EAAEM,MAAK,SAAmBC,GAAW,OAAS,OAAOA,EAAUC,KAAKD,EAAUE,MAAM,KAAK,EAAmB,OAAjBF,EAAUE,KAAK,EAASf,EAAKgB,mBAAmB,KAAK,EAA2xB,OAAzxBP,EAAUI,EAAUI,KAAKC,YAAyBb,OAAON,EAAkK,EAAzKM,CAAyLR,EAAwIS,EAAEC,MAAK,SAASY,IAAU,OAAOtB,EAAwIS,EAAEM,MAAK,SAAkBQ,GAAU,OAAS,OAAOA,EAASN,KAAKM,EAASL,MAAM,KAAK,EAAkB,OAAhBK,EAASL,KAAK,EAASf,EAAKgB,mBAAmB,KAAK,EAAEP,EAAUW,EAASH,KAAK,KAAK,EAAE,IAAI,MAAM,OAAOG,EAASC,UAAWF,OAAa,OAAcN,EAAUE,KAAK,EAASd,EAAWe,mBAAmB,KAAK,EAAEN,EAAoBG,EAAUI,KAAKC,YAAyBb,OAAON,EAAkK,EAAzKM,CAAyLR,EAAwIS,EAAEC,MAAK,SAASe,IAAW,OAAOzB,EAAwIS,EAAEM,MAAK,SAAmBW,GAAW,OAAS,OAAOA,EAAUT,KAAKS,EAAUR,MAAM,KAAK,EAAmB,OAAjBQ,EAAUR,KAAK,EAASd,EAAWe,mBAAmB,KAAK,EAAEN,EAAoBa,EAAUN,KAAK,KAAK,EAAE,IAAI,MAAM,OAAOM,EAAUF,UAAWC,OAAc,QAAcX,EAAIT,KAAcsB,IAAIrB,KAAQQ,EAAIc,IAAI,SAAQ,SAASC,EAAIC,GAAKA,EAAIC,KAAKnB,MAAcE,EAAIc,IAAI,gBAAe,SAASC,EAAIC,GAAKA,EAAIC,KAAKlB,MAAwBC,EAAIkB,OAAO,KAAK,WAAWC,QAAQC,IAAI,wBAAwBpB,EAAIc,IAAI,KAAI,SAASC,EAAIC,GAAKA,EAAIK,KAAK,mBAAmB,KAAK,GAAG,IAAI,MAAM,OAAOnB,EAAUQ,UAAWb,QAA0ByB,MAAM5C,KAAK6C,YAAvsF,WAAsB9B,EAAK6B,MAAM5C,KAAK6C,WAA6qFC,IAI91FC,IACA,SAAU5C,EAAQC,EAAqBC,GAE7C,aACAA,EAAoBC,EAAEF,GACM,SAASD,GAAkLE,EAAoB,KAAxK,IAC1C2C,EAAkI3C,EAAoB,GACtJ4C,EAAuJ5C,EAAoBI,EAAEuC,GAC7KE,EAAmJ7C,EAAoB,GAC5L8C,EAAM9C,EAAoB,IAAI+C,QAAYC,EAAShD,EAAoB,IAAgHiD,IAAxBC,EAAvElD,EAAoB,IAAuBkD,WAAsCF,GAAkB,8HAA6H,SAASG,IAAW,OAAOC,EAAUb,MAAM5C,KAAK6C,WAAY,SAASY,IAAwnC,OAA5mCA,EAAUzC,OAAOkC,EAAkK,EAAzKlC,CAAyLiC,EAAwIhC,EAAEC,MAAK,SAASY,IAAU,IAAI4B,EAAKC,EAAMC,EAAYC,EAAIC,EAAUC,EAAUC,EAAa1B,EAAI,OAAOW,EAAwIhC,EAAEM,MAAK,SAAkBQ,GAAU,OAAS,OAAOA,EAASN,KAAKM,EAASL,MAAM,KAAK,EAAkU,OAAhUgC,EAAK,IAAIO,MAAYC,QAAQR,EAAKS,UAAU,GAAGR,EAAMD,EAAKU,WAAW,EAAER,EAAYD,EAAM,GAAG,IAAIU,OAAOV,GAAOA,EAAME,EAAIH,EAAKS,UAAUL,EAAUD,EAAI,GAAG,IAAIQ,OAAOR,GAAKA,EAAIE,EAAU,GAAGM,OAAOT,EAAY,KAAKS,OAAOP,EAAU,KAAKO,OAAOX,EAAKY,eAAeN,EAAaV,EAAIiB,QAAQ,SAASR,GAAWhC,EAASL,KAAK,GAAUyB,EAAMf,IAAI4B,GAAc,KAAK,GAAqB,OAAlB1B,EAAIP,EAASH,KAAYG,EAASyC,OAAO,SAASlC,EAAI3B,MAAM,KAAK,GAAG,IAAI,MAAM,OAAOoB,EAASC,UAAWF,QAA8Bc,MAAM5C,KAAK6C,WAA+iF1C,EAAOsE,QAAQjB,SAASA,EAASrD,EAAOsE,QAAQC,MAAMlB,EAASrD,EAAOsE,QAAQ9C,iBAAiB6B,GACtoImB,KAAK3E,KAAMK,EAAoB,GAApBA,CAAwBF,KAI1DyE,IACA,SAAUzE,EAAQsE,KAMlBI,IACA,SAAU1E,EAAQsE,KAMlBK,IACA,SAAU3E,EAAQC,EAAqBC,GAE7C,aACAA,EAAoBC,EAAEF,GACM,SAASD,GAA8B,IAAI4E,EAA4J1E,EAAoB,KAC9N2E,EAA0I3E,EAAoB,KAC9J4E,EAAkI5E,EAAoB,GACtJ6E,EAAuJ7E,EAAoBI,EAAEwE,GAC7KE,EAAmJ9E,EAAoB,GAC5L8C,EAAM9C,EAAoB,IAAI+C,QAAYC,EAAShD,EAAoB,IAA0E+E,GAAc7B,EAAvElD,EAAoB,IAAuBkD,WAAsCF,GAAcgC,EAAM,CAAC,YAAY,SAAS,aAAiB/B,EAAI,sJAC5O,SAASE,EAAS8B,GAAI,OAAO7B,EAAUb,MAAM5C,KAAK6C,WAAY,SAASY,IAAwyB,OAA5xBA,EAAUzC,OAAOmE,EAAkK,EAAzKnE,CAAyLkE,EAAwIjE,EAAEC,MAAK,SAASY,EAAQyD,GAAM,IAAIC,EAAIlD,EAAI,OAAO4C,EAAwIjE,EAAEM,MAAK,SAAkBQ,GAAU,OAAS,OAAOA,EAASN,KAAKM,EAASL,MAAM,KAAK,EAAiD,OAA/C8D,EAAIlC,EAAIiB,QAAQ,SAASgB,GAAMxD,EAASL,KAAK,EAASyB,EAAMf,IAAIoD,GAAK,KAAK,EAAoB,OAAlBlD,EAAIP,EAASH,KAAYG,EAASyC,OAAO,SAASlC,EAAI3B,MAAM,KAAK,EAAE,IAAI,MAAM,OAAOoB,EAASC,UAAWF,QAA8Bc,MAAM5C,KAAK6C,WAAY,SAAS6B,EAAMe,GAAK,OAAOC,EAAO9C,MAAM5C,KAAK6C,WAAY,SAAS6C,IAAq6C,OAA55CA,EAAO1E,OAAOmE,EAAkK,EAAzKnE,CAAyLkE,EAAwIjE,EAAEC,MAAK,SAASe,EAAStB,GAAM,IAAIgF,EAAQvE,EAAUwE,EAAc,OAAOV,EAAwIjE,EAAEM,MAAK,SAAmBW,GAAW,OAAS,OAAOA,EAAUT,KAAKS,EAAUR,MAAM,KAAK,EAAmB,OAAjBQ,EAAUR,KAAK,EAAS0D,EAAczE,EAAK,CAACkF,UAAU,IAAI,KAAK,EAA6nB,OAA3nBF,EAAQzD,EAAUN,KAAKR,EAAUuE,EAAQG,KAAI,SAASC,GAAQ,IAAIC,EAAQhF,OAAOgE,EAAyJ,EAAhKhE,CAAmK+E,GAAQE,EAAMD,EAAQ,GAAGE,EAAQF,EAAQ,GAAGG,EAASH,EAAQ,GAAGI,EAAUJ,EAAQ,GAAGK,EAAOL,EAAQM,MAAM,GAA+C,MAAM,CAACC,GAA5C,GAAGlC,OAAO4B,EAAM,KAAK5B,OAAO6B,GAAsBD,MAAMA,EAAMC,QAAQA,EAAQC,SAASK,SAASL,GAAUC,UAAUI,SAASJ,GAAWC,OAAOA,EAAOP,KAAI,SAASW,GAAO,OAAOD,SAASC,UAAcb,EAAcxE,EAAUsF,QAAO,SAASC,EAAIC,GAAqB,OAAhBD,EAAIC,EAAIL,IAAIK,EAAWD,IAAM,IAAWzE,EAAUsC,OAAO,SAASoB,GAAe,KAAK,EAAE,IAAI,MAAM,OAAO1D,EAAUF,UAAWC,QAA4BW,MAAM5C,KAAK6C,WAAwF,SAASgE,IAA64D,OAAz3DA,EAAkB7F,OAAOmE,EAAkK,EAAzKnE,CAAyLkE,EAAwIjE,EAAEC,MAAK,SAASC,IAAW,IAAI2F,EAAgBC,EAAUC,EAAMzB,EAAK5E,EAAKS,EAAU,OAAO8D,EAAwIjE,EAAEM,MAAK,SAAmBC,GAAW,OAAS,OAAOA,EAAUC,KAAKD,EAAUE,MAAM,KAAK,EAAEoF,EAAgB,GAAGC,EAAU/F,OAAO+D,EAA2K,EAAlL/D,CAAqLqE,GAAO7D,EAAUC,KAAK,EAAEsF,EAAUE,IAAI,KAAK,EAAE,IAAID,EAAMD,EAAUtG,KAAKyG,KAAK,CAAC1F,EAAUE,KAAK,GAAG,MAAyC,OAAlC6D,EAAKyB,EAAMP,MAAMjF,EAAUE,KAAK,EAAS8B,EAAS+B,GAAM,KAAK,EAAwC,OAAtC5E,EAAKa,EAAUI,KAAKJ,EAAUE,KAAK,GAAUgD,EAAM/D,GAAM,KAAK,GAAGmG,EAAgBvB,GAAM/D,EAAUI,KAAK,KAAK,GAAGJ,EAAUE,KAAK,EAAE,MAAM,KAAK,GAAGF,EAAUE,KAAK,GAAG,MAAM,KAAK,GAAGF,EAAUC,KAAK,GAAGD,EAAU2F,GAAG3F,EAAiB,MAAE,GAAGuF,EAAUK,EAAE5F,EAAU2F,IAAI,KAAK,GAAmC,OAAhC3F,EAAUC,KAAK,GAAGsF,EAAUM,IAAW7F,EAAU8F,OAAO,IAAI,KAAK,GAAkb,OAA/alG,EAAUJ,OAAOuG,KAAKT,EAAgBU,WAAW1B,KAAI,SAASS,GAAI,IAAIiB,EAAUV,EAAgBU,UAAUjB,IAAK,CAACF,OAAO,IAAeS,EAAgBW,OAAOlB,GAA+BO,EAAgBY,UAAUnB,GAAiB,MAAM,CAACA,GAAGA,EAAGoB,KAAKH,EAAUvB,MAAMC,QAAQsB,EAAUtB,QAAQC,SAASqB,EAAUrB,SAASC,UAAUoB,EAAUpB,UAAUoB,UAAUA,EAAUnB,OAAOoB,OAAOD,EAAUnB,OAAOqB,UAAUF,EAAUnB,WAAkB7E,EAAUgD,OAAO,SAASpD,GAAW,KAAK,GAAG,IAAI,MAAM,OAAOI,EAAUQ,UAAWb,EAAS,KAAK,CAAC,CAAC,EAAE,GAAG,GAAG,WAAmCyB,MAAM5C,KAAK6C,WAAY1C,EAAOsE,QAAQ,CAACjB,SAASA,EAASkB,MAAMA,EAAM/C,iBAAhkE,WAA4B,OAAOkF,EAAkBjE,MAAM5C,KAAK6C,cACt8E8B,KAAK3E,KAAMK,EAAoB,GAApBA,CAAwBF,KAI1DyH,IACA,SAAUzH,EAAQsE,KAMlBoD,IACA,SAAU1H,EAAQsE,KAMlBqD,IACA,SAAU3H,EAAQsE,KAMlBsD,IACA,SAAU5H,EAAQsE,GAExB,SAASuD,EAAoB3F,GAC5B,IAAI+E,EAAI,IAAIa,MAAM,uBAAyB5F,EAAM,KAEjD,MADA+E,EAAEc,KAAO,mBACHd,EAEPY,EAAoBT,KAAO,WAAa,MAAO,IAC/CS,EAAoBG,QAAUH,EAC9B7H,EAAOsE,QAAUuD,EACjBA,EAAoBzB,GAAK,KAInB6B,IACA,SAAUjI,EAAQsE,KAMlB4D,IACA,SAAUlI,EAAQsE,KAMlB6D,IACA,SAAUnI,EAAQsE,KAMlB8D,IACA,SAAUpI,EAAQsE,KAMlB+D,IACA,SAAUrI,EAAQsE,KAMlBgE,IACA,SAAUtI,EAAQsE,KAMlBiE,IACA,SAAUvI,EAAQsE,KAMlBkE,IACA,SAAUxI,EAAQsE,KAMlBmE,IACA,SAAUzI,EAAQsE,KAMlBoE,IACA,SAAU1I,EAAQsE,KAMlBqE,IACA,SAAU3I,EAAQsE,KAMlBsE,IACA,SAAU5I,EAAQsE,MAMtB,CAAC,CAAC,IAAI,EAAE"},"input":"(this[\"webpackJsonpkorona\"] = this[\"webpackJsonpkorona\"] || []).push([[0],{\n\n/***/ 187:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);\n/* harmony import */ var D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(9);\nvar data=__webpack_require__(189);var timeSeries=__webpack_require__(238);var express=__webpack_require__(239);var cors=__webpack_require__(401);function run(){return _run.apply(this,arguments);}function _run(){_run=Object(D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(/*#__PURE__*/D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3(){var locations,locationsTimeSeries,app;return D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return data.downloadAndParse();case 2:locations=_context3.sent;setInterval(/*#__PURE__*/Object(D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(/*#__PURE__*/D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(){return D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return data.downloadAndParse();case 2:locations=_context.sent;case 3:case\"end\":return _context.stop();}}},_callee);})),1000*60*60*4);_context3.next=6;return timeSeries.downloadAndParse();case 6:locationsTimeSeries=_context3.sent;setInterval(/*#__PURE__*/Object(D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(/*#__PURE__*/D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(){return D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return timeSeries.downloadAndParse();case 2:locationsTimeSeries=_context2.sent;case 3:case\"end\":return _context2.stop();}}},_callee2);})),1000*60*60*4);app=express();app.use(cors());app.get('/data',function(req,res){res.json(locations);});app.get('/time-series',function(req,res){res.json(locationsTimeSeries);});app.listen(8000,function(){console.log('server is running');});app.get('/',function(req,res){res.send('Hello World!');});case 14:case\"end\":return _context3.stop();}}},_callee3);}));return _run.apply(this,arguments);}run();\n\n/***/ }),\n\n/***/ 189:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(185);\n/* harmony import */ var D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(5);\n/* harmony import */ var D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(9);\nvar axios=__webpack_require__(90).default;var parseCsv=__webpack_require__(99);var _require=__webpack_require__(33),promisify=_require.promisify;var parseCsvAsync=promisify(parseCsv);var URL='https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_daily_reports/_DATE_.csv';function download(){return _download.apply(this,arguments);}function _download(){_download=Object(D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(/*#__PURE__*/D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(){var date,month,monthPadded,day,dayPadded,yesterday,yesterdayUrl,res;return D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:date=new Date();date.setDate(date.getDate()-1);month=date.getMonth()+1;monthPadded=month<10?\"0\".concat(month):month;day=date.getDate();dayPadded=day<10?\"0\".concat(day):day;yesterday=\"\".concat(monthPadded,\"-\").concat(dayPadded,\"-\").concat(date.getFullYear());yesterdayUrl=URL.replace('_DATE_',yesterday);_context.next=10;return axios.get(yesterdayUrl);case 10:res=_context.sent;return _context.abrupt(\"return\",res.data);case 12:case\"end\":return _context.stop();}}},_callee);}));return _download.apply(this,arguments);}function parse(_x){return _parse.apply(this,arguments);}function _parse(){_parse=Object(D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(/*#__PURE__*/D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee2(data){var records,locations;return D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return parseCsvAsync(data,{from_line:2});case 2:records=_context2.sent;locations=records.map(function(record){var _record=Object(D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(record,12),fips=_record[0],admin2=_record[1],state=_record[2],country=_record[3],lastUpdated=_record[4],latitude=_record[5],longitude=_record[6],confirmed=_record[7],deaths=_record[8],recovered=_record[9],active=_record[10],combinedKey=_record[11];return{state:state,country:country,latitude:parseInt(latitude),longitude:parseInt(longitude),confirmed:parseInt(confirmed),deaths:parseInt(deaths),recovered:parseInt(recovered),combinedKey:combinedKey};});return _context2.abrupt(\"return\",locations);case 5:case\"end\":return _context2.stop();}}},_callee2);}));return _parse.apply(this,arguments);}function downloadAndParse(){return _downloadAndParse.apply(this,arguments);}function _downloadAndParse(){_downloadAndParse=Object(D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(/*#__PURE__*/D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee3(){var data,locations;return D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return download();case 2:data=_context3.sent;_context3.next=5;return parse(data);case 5:locations=_context3.sent;return _context3.abrupt(\"return\",locations);case 7:case\"end\":return _context3.stop();}}},_callee3);}));return _downloadAndParse.apply(this,arguments);}module.exports.download=download;module.exports.parse=download;module.exports.downloadAndParse=download;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(89)(module)))\n\n/***/ }),\n\n/***/ 227:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 229:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 238:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(184);\n/* harmony import */ var D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(186);\n/* harmony import */ var D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(5);\n/* harmony import */ var D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(9);\nvar axios=__webpack_require__(90).default;var parseCsv=__webpack_require__(99);var _require=__webpack_require__(33),promisify=_require.promisify;var parseCsvAsync=promisify(parseCsv);var TYPES=['confirmed','deaths','recovered'];var URL='https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19__TYPE__global.csv';//https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19__TYPE__global.csv\nfunction download(_x){return _download.apply(this,arguments);}function _download(){_download=Object(D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(/*#__PURE__*/D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee(type){var url,res;return D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url=URL.replace('_TYPE_',type);_context.next=3;return axios.get(url);case 3:res=_context.sent;return _context.abrupt(\"return\",res.data);case 5:case\"end\":return _context.stop();}}},_callee);}));return _download.apply(this,arguments);}function parse(_x2){return _parse.apply(this,arguments);}function _parse(){_parse=Object(D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(/*#__PURE__*/D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee2(data){var records,locations,locationsById;return D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return parseCsvAsync(data,{from_line:2});case 2:records=_context2.sent;locations=records.map(function(record){var _record=Object(D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toArray__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(record),state=_record[0],country=_record[1],latitude=_record[2],longitude=_record[3],values=_record.slice(4);var id=\"\".concat(state,\"-\").concat(country);return{id:id,state:state,country:country,latitude:parseInt(latitude),longitude:parseInt(longitude),values:values.map(function(value){return parseInt(value);})};});locationsById=locations.reduce(function(acc,val){acc[val.id]=val;return acc;},{});return _context2.abrupt(\"return\",locationsById);case 6:case\"end\":return _context2.stop();}}},_callee2);}));return _parse.apply(this,arguments);}function downloadAndParse(){return _downloadAndParse.apply(this,arguments);}function _downloadAndParse(){_downloadAndParse=Object(D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(/*#__PURE__*/D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee3(){var locationsByType,_iterator,_step,type,data,locations;return D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:locationsByType={};_iterator=Object(D_home_korona_virus_api_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(TYPES);_context3.prev=2;_iterator.s();case 4:if((_step=_iterator.n()).done){_context3.next=14;break;}type=_step.value;_context3.next=8;return download(type);case 8:data=_context3.sent;_context3.next=11;return parse(data);case 11:locationsByType[type]=_context3.sent;case 12:_context3.next=4;break;case 14:_context3.next=19;break;case 16:_context3.prev=16;_context3.t0=_context3[\"catch\"](2);_iterator.e(_context3.t0);case 19:_context3.prev=19;_iterator.f();return _context3.finish(19);case 22:locations=Object.keys(locationsByType.confirmed).map(function(id){var confirmed=locationsByType.confirmed[id]||{values:[]};var deaths=locationsByType.deaths[id]||{values:[]};var recovered=locationsByType.recovered[id]||{values:[]};return{id:id,stae:confirmed.state,country:confirmed.country,latitude:confirmed.latitude,longitude:confirmed.longitude,confirmed:confirmed.values,deaths:confirmed.values,recovered:confirmed.values};});return _context3.abrupt(\"return\",locations);case 24:case\"end\":return _context3.stop();}}},_callee3,null,[[2,16,19,22]]);}));return _downloadAndParse.apply(this,arguments);}module.exports={download:download,parse:parse,downloadAndParse:downloadAndParse};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(89)(module)))\n\n/***/ }),\n\n/***/ 263:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 264:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 292:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 295:\n/***/ (function(module, exports) {\n\nfunction webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 295;\n\n/***/ }),\n\n/***/ 297:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 299:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 306:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 308:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 337:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 339:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 340:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 346:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 348:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 367:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 379:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 382:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ })\n\n},[[187,1,2]]]);","inputSourceMap":{"version":3,"sources":["D:/home/korona-virus-api/src/index.js","D:/home/korona-virus-api/src/data.js","ignored D:\\home\\korona-virus-api\\node_modules\\stream-browserify\\node_modules\\readable-stream\\lib util","ignored D:\\home\\korona-virus-api\\node_modules\\stream-browserify\\node_modules\\readable-stream\\lib\\internal\\streams util","D:/home/korona-virus-api/src/time-series.js","ignored D:\\home\\korona-virus-api\\node_modules\\iconv-lite\\lib ./streams","ignored D:\\home\\korona-virus-api\\node_modules\\iconv-lite\\lib ./extend-node","ignored D:\\home\\korona-virus-api\\node_modules\\methods http","D:\\home\\korona-virus-api\\node_modules\\express\\lib sync","ignored D:\\home\\korona-virus-api\\node_modules\\stream-http\\node_modules\\readable-stream\\lib util","ignored D:\\home\\korona-virus-api\\node_modules\\stream-http\\node_modules\\readable-stream\\lib\\internal\\streams util","ignored D:\\home\\korona-virus-api\\node_modules\\readable-stream\\lib util","ignored D:\\home\\korona-virus-api\\node_modules\\readable-stream\\lib\\internal\\streams util","ignored D:\\home\\korona-virus-api\\node_modules\\diffie-hellman\\node_modules\\bn.js\\lib buffer","ignored D:\\home\\korona-virus-api\\node_modules\\miller-rabin\\node_modules\\bn.js\\lib buffer","ignored D:\\home\\korona-virus-api\\node_modules\\brorand crypto","ignored D:\\home\\korona-virus-api\\node_modules\\bn.js\\lib buffer","ignored D:\\home\\korona-virus-api\\node_modules\\elliptic\\node_modules\\bn.js\\lib buffer","ignored D:\\home\\korona-virus-api\\node_modules\\asn1.js\\node_modules\\bn.js\\lib buffer","ignored D:\\home\\korona-virus-api\\node_modules\\create-ecdh\\node_modules\\bn.js\\lib buffer","ignored D:\\home\\korona-virus-api\\node_modules\\public-encrypt\\node_modules\\bn.js\\lib buffer"],"names":["data","require","timeSeries","express","cors","run","downloadAndParse","locations","setInterval","locationsTimeSeries","app","use","get","req","res","json","listen","console","log","send","axios","default","parseCsv","promisify","parseCsvAsync","URL","download","date","Date","setDate","getDate","month","getMonth","monthPadded","day","dayPadded","yesterday","getFullYear","yesterdayUrl","replace","parse","from_line","records","map","record","fips","admin2","state","country","lastUpdated","latitude","longitude","confirmed","deaths","recovered","active","combinedKey","parseInt","module","exports","TYPES","type","url","values","id","value","locationsById","reduce","acc","val","locationsByType","Object","keys","stae"],"mappings":"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","file":"x","sourcesContent":["const data = require('./data')\r\nconst timeSeries = require('./time-series')\r\nconst express = require('express')\r\nconst cors = require('cors')\r\n\r\n\r\nasync function run(){\r\nlet locations = await data.downloadAndParse();\r\n\r\nsetInterval(async () => {\r\n    locations = await data.downloadAndParse();\r\n},1000 * 60 * 60 * 4)\r\n\r\nlet locationsTimeSeries = await timeSeries.downloadAndParse();\r\n\r\nsetInterval(async () => {\r\n    locationsTimeSeries = await timeSeries.downloadAndParse();\r\n},1000 * 60 * 60 * 4)\r\n\r\nconst app = express()\r\napp.use(cors());\r\n\r\napp.get('/data',(req, res) => {\r\n    res.json(locations);\r\n})\r\n\r\napp.get('/time-series',(req, res) => {\r\n    res.json(locationsTimeSeries);\r\n})\r\n\r\napp.listen(8000, () => {\r\n    console.log('server is running')\r\n})\r\n\r\napp.get('/',(req,res) => {\r\n\r\n    res.send('Hello World!');\r\n})\r\n\r\n}\r\n\r\nrun()","const axios = require('axios').default\r\nconst parseCsv = require('csv-parse')\r\nconst { promisify } = require('util')\r\nconst parseCsvAsync = promisify(parseCsv)\r\n\r\nconst URL = 'https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_daily_reports/_DATE_.csv';\r\n\r\n\r\nasync function download(){\r\n\r\n    const date = new Date();\r\n    date.setDate(date.getDate()-1);\r\n    const month = date.getMonth() + 1;\r\n    const monthPadded = month < 10 ? `0${month}` : month;\r\n    const day = date.getDate();\r\n    const dayPadded = day < 10 ? `0${day}` : day;\r\n\r\n    const yesterday = `${monthPadded}-${dayPadded}-${date.getFullYear()}`;\r\n    const yesterdayUrl = URL.replace('_DATE_',yesterday);\r\n\r\n    const res = await axios.get(yesterdayUrl);\r\n    return res.data;\r\n}\r\nasync function parse(data) {\r\n    const records = await parseCsvAsync(data, { from_line: 2 })\r\n        \r\n        const locations = records.map(record => {\r\n            const [ \r\n                fips, admin2,state,country,lastUpdated,\r\n                latitude,longitude, confirmed, deaths, recovered,\r\n                active, combinedKey\r\n\r\n             ] = record;\r\n\r\n             return {\r\n                 state,\r\n                 country,\r\n                 latitude: parseInt(latitude),\r\n                 longitude: parseInt(longitude),\r\n                 confirmed: parseInt(confirmed),\r\n                 deaths: parseInt(deaths),\r\n                 recovered: parseInt(recovered),\r\n                 combinedKey\r\n             }\r\n        });\r\n\r\n        return locations;\r\n}\r\n\r\nasync function downloadAndParse(){\r\nconst data = await download();\r\nconst locations = await parse(data);\r\nreturn locations;\r\n\r\n}\r\nmodule.exports.download = download;\r\nmodule.exports.parse = download;\r\nmodule.exports.downloadAndParse = download;\r\n","/* (ignored) */","/* (ignored) */","const axios = require('axios').default\r\nconst parseCsv = require('csv-parse')\r\nconst { promisify } = require('util')\r\nconst parseCsvAsync = promisify(parseCsv)\r\n\r\nconst TYPES = ['confirmed', 'deaths', 'recovered']\r\n\r\nconst URL = 'https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19__TYPE__global.csv';\r\n\r\n\r\n//https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19__TYPE__global.csv\r\n\r\nasync function download(type){\r\n    const url = URL.replace('_TYPE_',type);\r\n    const res = await axios.get(url);\r\n    return res.data;\r\n}\r\n\r\n\r\nasync function parse(data) {\r\n    const records = await parseCsvAsync(data, { from_line: 2 })\r\n        \r\n        const locations = records.map(record => {\r\n            const [ state,country,latitude,longitude, ...values ] = record;\r\n            \r\n            const id = `${state}-${country}`;\r\n\r\n\r\n             return {\r\n                 id,\r\n                 state,\r\n                 country,\r\n                 latitude: parseInt(latitude),\r\n                 longitude: parseInt(longitude),\r\n                 values: values.map(value => parseInt(value)),\r\n             }\r\n        });\r\nconst locationsById = locations.reduce((acc, val) => {\r\n    acc[val.id] = val;\r\n    return acc;\r\n}, {})\r\n        return locationsById;\r\n}\r\n\r\n\r\nasync function downloadAndParse(){\r\n    const locationsByType = {};\r\n\r\n    for (const type of TYPES){\r\n        const data = await download(type);\r\n        locationsByType[type] =  await parse(data);\r\n    }\r\n    const locations = Object.keys(locationsByType.confirmed).map(id => {\r\n        const confirmed = locationsByType.confirmed[id] || { values: []};\r\n        const deaths = locationsByType.deaths[id] || { values: []};\r\n        const recovered = locationsByType.recovered[id] || { values: []};\r\n        return {\r\n            id,\r\n            stae: confirmed.state,\r\n            country: confirmed.country,\r\n            latitude: confirmed.latitude,\r\n            longitude: confirmed.longitude,\r\n\r\n            confirmed: confirmed.values,\r\n            deaths: confirmed.values,\r\n            recovered: confirmed.values\r\n\r\n        };\r\n    });\r\n\r\nreturn locations;\r\n\r\n}\r\nmodule.exports = {\r\n    download,\r\n    parse,\r\n    downloadAndParse\r\n\r\n}","/* (ignored) */","/* (ignored) */","/* (ignored) */","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 295;","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */"]}}